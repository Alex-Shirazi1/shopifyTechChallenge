{"ast":null,"code":"import _slicedToArray from \"/Users/alexshirazi/Desktop/shopifyTechChallenge/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alexshirazi/Desktop/shopifyTechChallenge/frontend/src/pages/View.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nconst View = () => {\n  //post logic\n  const _React$useState = React.useState(''),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        description = _React$useState2[0],\n        setDescription = _React$useState2[1];\n\n  const _React$useState3 = React.useState(''),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        title = _React$useState4[0],\n        setTitle = _React$useState4[1];\n\n  const _React$useState5 = React.useState(''),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        price = _React$useState6[0],\n        setPrice = _React$useState6[1];\n\n  const _React$useState7 = React.useState(''),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        photo = _React$useState8[0],\n        setPhoto = _React$useState8[1];\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      descriptionEdit = _React$useState10[0],\n      setDescriptionEdit = _React$useState10[1];\n\n  var _React$useState11 = React.useState(''),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      titleEdit = _React$useState12[0],\n      setTitleEdit = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      priceEdit = _React$useState14[0],\n      setPriceEdit = _React$useState14[1];\n\n  var _React$useState15 = React.useState(''),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      photoEdit = _React$useState16[0],\n      setPhotoEdit = _React$useState16[1];\n\n  var _React$useState17 = React.useState(''),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      descriptionEdit1 = _React$useState18[0],\n      setDescriptionEdit1 = _React$useState18[1];\n\n  var _React$useState19 = React.useState(''),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      titleEdit1 = _React$useState20[0],\n      setTitleEdit1 = _React$useState20[1];\n\n  var _React$useState21 = React.useState(''),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      priceEdit1 = _React$useState22[0],\n      setPriceEdit1 = _React$useState22[1];\n\n  var _React$useState23 = React.useState(''),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      photoEdit1 = _React$useState24[0],\n      setPhotoEdit1 = _React$useState24[1];\n\n  const data = {\n    title: title,\n    price: price,\n    description: description,\n    photo: photo\n  };\n  const dataToBeEdited = {\n    title: titleEdit,\n    price: priceEdit,\n    description: descriptionEdit,\n    photo: photoEdit\n  };\n  const oldData = {\n    title: titleEdit1,\n    price: priceEdit1,\n    description: descriptionEdit1,\n    photo: photoEdit1\n  };\n\n  const editMode = data => {\n    setTitleEdit(data.title);\n    setPriceEdit(data.price);\n    setDescriptionEdit(data.description);\n    setPhotoEdit(data.photo);\n    setTitleEdit1(data.title);\n    setPriceEdit1(data.price);\n    setDescriptionEdit1(data.description);\n    setPhotoEdit1(data.photo);\n    console.log(data.photo);\n    console.log(titleEdit);\n  }; //handlers\n\n\n  const handlePrice = e => {\n    setPrice(e.target.value);\n  };\n\n  const handlePostTitle = e => {\n    setTitle(e.target.value);\n  };\n\n  const handleDescription = e => {\n    setDescription(e.target.value);\n  };\n\n  const handlePhoto = e => {\n    setPhoto(e.target.files[0]);\n    let photoFile = e.target.files[0];\n    console.log(e.target.files);\n    let reader = new FileReader();\n    reader.readAsDataURL(photoFile);\n\n    reader.onload = e => {\n      console.log(e.target.result);\n      setPhoto(e.target.result);\n    };\n  };\n\n  const handlePost = () => {\n    const json = JSON.stringify(data);\n    axios.post('api/createListing', json).then(response => {\n      console.log(response);\n    });\n  }; //View listings\n\n\n  const _React$useState25 = React.useState(''),\n        _React$useState26 = _slicedToArray(_React$useState25, 2),\n        counter = _React$useState26[0],\n        setCounter = _React$useState26[1];\n\n  var _React$useState27 = React.useState([]),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      listing = _React$useState28[0],\n      setListing = _React$useState28[1];\n\n  const count = () => {\n    axios.get('/api/countListings').then(response => {\n      setCounter(response.data);\n    });\n  };\n\n  const all = () => {\n    axios.get('api/viewListings').then(res => {\n      console.log(res.data);\n      setListing(res.data);\n    });\n  };\n\n  React.useEffect(() => {\n    all();\n    count();\n  }, []); //empty json for some reason\n\n  const removeListing = data => {\n    const obj = JSON.stringify(data);\n    console.log(obj);\n    axios.post('api/removeListing', obj).then(res => {\n      console.log(res);\n      window.location.reload();\n    });\n  };\n\n  const editListing = () => {\n    const json1 = JSON.stringify(oldData);\n    const json2 = JSON.stringify(dataToBeEdited);\n    const json3 = json1 + json2;\n    axios.post('api/editListing', json3).then(res => {\n      console.log(res);\n      window.location.reload();\n    });\n  };\n\n  const handlePriceEdit = e => {\n    setPriceEdit(e.target.value);\n  };\n\n  const handlePostTitleEdit = e => {\n    setTitleEdit(e.target.value);\n  };\n\n  const handleDescriptionEdit = e => {\n    setDescriptionEdit(e.target.value);\n  };\n\n  const handlePhotoEdit = e => {\n    setPhotoEdit(e.target.files[0]);\n    let photoFile = e.target.files[0];\n    console.log(e.target.files);\n    let reader = new FileReader();\n    reader.readAsDataURL(photoFile);\n\n    reader.onload = e => {\n      console.log(e.target.result);\n      setPhotoEdit(e.target.result);\n    };\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Post\"), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"Title \"), React.createElement(\"input\", {\n    value: title,\n    onChange: handlePostTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"Price \"), React.createElement(\"input\", {\n    value: price,\n    onChange: handlePrice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Description \"), React.createElement(\"input\", {\n    value: description,\n    onChange: handleDescription,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    accept: \"image/jpg,image/jpeg,image/png\",\n    onChange: handlePhoto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: handlePost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, \"Submit Listing\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }))), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, \"Edit Form\"), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, \"Title \"), React.createElement(\"input\", {\n    defaultValue: titleEdit,\n    onChange: handlePostTitleEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, \"Price \"), React.createElement(\"input\", {\n    defaultValue: priceEdit,\n    onChange: handlePriceEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, \"Description \"), React.createElement(\"input\", {\n    defaultValue: descriptionEdit,\n    onChange: handleDescriptionEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: photoEdit,\n    height: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    defaultValue: photoEdit,\n    type: \"file\",\n    name: \"file\",\n    accept: \"image/jpg,image/jpeg,image/png\",\n    onChange: handlePhotoEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: editListing,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \"Submit Listing\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, \" There are \", counter, \" Listings Displayed!\"), React.createElement(\"div\", {\n    className: \"post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }), listing.map((data, key) => {\n    return React.createElement(\"div\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Title: \", data.title), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Price: \", data.price), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"Description: \", data.description), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: data.photo,\n      height: 100,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: () => editMode(data),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"edit\"), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: () => removeListing(data),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"remove\"));\n  })));\n};\n\nexport default View;","map":{"version":3,"sources":["/Users/alexshirazi/Desktop/shopifyTechChallenge/frontend/src/pages/View.js"],"names":["React","axios","View","useState","description","setDescription","title","setTitle","price","setPrice","photo","setPhoto","descriptionEdit","setDescriptionEdit","titleEdit","setTitleEdit","priceEdit","setPriceEdit","photoEdit","setPhotoEdit","descriptionEdit1","setDescriptionEdit1","titleEdit1","setTitleEdit1","priceEdit1","setPriceEdit1","photoEdit1","setPhotoEdit1","data","dataToBeEdited","oldData","editMode","console","log","handlePrice","e","target","value","handlePostTitle","handleDescription","handlePhoto","files","photoFile","reader","FileReader","readAsDataURL","onload","result","handlePost","json","JSON","stringify","post","then","response","counter","setCounter","listing","setListing","count","get","all","res","useEffect","removeListing","obj","window","location","reload","editListing","json1","json2","json3","handlePriceEdit","handlePostTitleEdit","handleDescriptionEdit","handlePhotoEdit","map","key"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nconst View = () => {\n\n//post logic\nconst[description,setDescription] =React.useState('');\nconst[title,setTitle] = React.useState('');\nconst[price,setPrice] = React.useState('');\nconst[photo,setPhoto]= React.useState('');\n\nvar[descriptionEdit,setDescriptionEdit] =React.useState('');\nvar[titleEdit,setTitleEdit] = React.useState('');\nvar[priceEdit,setPriceEdit] = React.useState('');\nvar[photoEdit,setPhotoEdit]= React.useState('');\n\nvar[descriptionEdit1,setDescriptionEdit1] =React.useState('');\nvar[titleEdit1,setTitleEdit1] = React.useState('');\nvar[priceEdit1,setPriceEdit1] = React.useState('');\nvar[photoEdit1,setPhotoEdit1]= React.useState('');\n\nconst data= {\n  title: title,\n  price: price,\n  description: description,\n  photo: photo,\n  };\n\n  const dataToBeEdited = {\n    title: titleEdit,\n    price: priceEdit,\n    description: descriptionEdit,\n    photo: photoEdit,\n  };\n  \n  \n  const oldData = {\n    title: titleEdit1,\n    price: priceEdit1,\n    description: descriptionEdit1,\n    photo: photoEdit1,\n  };\n  \n\n\n\nconst editMode=(data)=>{\n  setTitleEdit(data.title);\n  setPriceEdit(data.price);\n  setDescriptionEdit(data.description);\n  setPhotoEdit(data.photo);\n  \n  setTitleEdit1(data.title);\n  setPriceEdit1(data.price);\n  setDescriptionEdit1(data.description);\n  setPhotoEdit1(data.photo);\n  \n  console.log(data.photo);\n  console.log(titleEdit);\n  }\n  \n  //handlers\n\nconst handlePrice = (e)=>{\nsetPrice(e.target.value);\n}\nconst handlePostTitle = (e) =>{\n\nsetTitle(e.target.value);\n}\n\n  const handleDescription =(e)=>{\n    setDescription(e.target.value);\n  };\n\n  const handlePhoto=(e)=>{\n    setPhoto(e.target.files[0]);\n   let photoFile=e.target.files[0];\n    console.log(e.target.files);\n    let reader = new FileReader();\n    reader.readAsDataURL(photoFile);\n    reader.onload=(e)=>{\n      console.log(e.target.result);\n      setPhoto(e.target.result);\n    }\n  }  \n\nconst handlePost = () => {\n  const json = JSON.stringify(data)\n    axios.post('api/createListing', json)\n.then((response) =>{\nconsole.log(response);\n})\n}\n\n\n\n  //View listings\n  const[counter, setCounter] = React.useState('');\n  var [listing, setListing] = React.useState([]);\n \n\n  \n \n\n\n  const count = () =>{\n    axios.get('/api/countListings').then((response) =>{\n     setCounter(response.data);\n    })\n  }\n\n\n  const all =  () => {\n   axios.get('api/viewListings')\n \n  .then((res)=>{\nconsole.log(res.data); \nsetListing(res.data);\n    })\n\n\n   };\n\n\nReact.useEffect(() => {\n all();\ncount();\n\n\n},[])\n\n//empty json for some reason\n\nconst removeListing = (data)=>{\n  const obj = JSON.stringify(data);\n  console.log(obj);\n  axios.post('api/removeListing', obj)\n.then((res)=>{\n  console.log(res);\n  window.location.reload();\n})\n}\n\nconst editListing = ()=>{\n  const json1 = JSON.stringify(oldData);\n  const json2 = JSON.stringify(dataToBeEdited);\n  const json3= json1+json2;\n\n  axios.post('api/editListing',json3)\n  .then((res)=>{\n    console.log(res);\n  window.location.reload();\n  })\n}\n\n\nconst handlePriceEdit = (e)=>{\nsetPriceEdit(e.target.value);\n}\nconst handlePostTitleEdit = (e) =>{\n\nsetTitleEdit(e.target.value);\n\n}\n\n  const handleDescriptionEdit =(e)=>{\n    setDescriptionEdit(e.target.value);\n  };\n\n  const handlePhotoEdit=(e)=>{\n    setPhotoEdit(e.target.files[0]);\n   let photoFile=e.target.files[0];\n    console.log(e.target.files);\n    let reader = new FileReader();\n    reader.readAsDataURL(photoFile);\n    reader.onload=(e)=>{\n      console.log(e.target.result);\n      setPhotoEdit(e.target.result);\n    }\n  }  \n\n\n\n\n\n\n\n \n\n  return (\n <div>\n<div>\n      <h1>Post</h1>\n      <form>\n      <label>Title </label>\n      <input value = {title} onChange={handlePostTitle}/>\n      <br/>\n      <label>Price </label>\n      <input value = {price} onChange={handlePrice}/>\n      <br/>\n      <label>Description </label>\n      <input value = {description} onChange={handleDescription}/>\n      <br/>\n      <input type=\"file\" name =\"file\"\n          accept=\"image/jpg,image/jpeg,image/png\"\n          onChange={handlePhoto}\n          />\n     \n      <button onClick={handlePost}>Submit Listing</button>\n      <br/>\n      </form>\n    </div>\n\n<h1>Edit Form</h1>\n<form>\n      <label>Title </label>\n      <input defaultValue={titleEdit} onChange={handlePostTitleEdit}/>\n      <br/>\n      <label>Price </label>\n      <input defaultValue={priceEdit} onChange={handlePriceEdit}/>\n      <br/>\n      <label>Description </label>\n      <input defaultValue = {descriptionEdit} onChange={handleDescriptionEdit}/>\n      <br/>\n      <img src={photoEdit} height={100}/>\n      <br/>\n      <input defaultValue={photoEdit} type=\"file\" name =\"file\"\n          accept=\"image/jpg,image/jpeg,image/png\"\n          onChange={handlePhotoEdit}\n          />\n      <button onClick={editListing}>Submit Listing</button>\n      <br/>\n      </form>\n\n      <br/>\n  <h1> There are {counter} Listings Displayed!</h1>\n    <div className=\"post\">\n      <br/>\n    {listing.map((data,key)=>{\n\n      return (\n        <div key={key}>\n          \n         <h1>Title: {data.title}</h1>\n          <br/>\n         <label>Price: {data.price}</label>\n         <br/>\n         <label>Description: {data.description}</label>\n          <br/>\n          <img src={data.photo} height={100}/>\n          \n         \n         <br/>\n         <button type=\"submit\" onClick={()=>editMode(data)}>edit</button>\n          <button type=\"submit\" onClick={()=>removeListing(data)}>remove</button>\n        </div>\n       \n      \n      )\n     \n    })}\n   \n    </div>\n    </div>\n  );\n\n\n   \n  \n  \n};\n\nexport default View;\n"]},"metadata":{},"sourceType":"module"}