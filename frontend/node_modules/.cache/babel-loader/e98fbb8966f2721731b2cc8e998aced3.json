{"ast":null,"code":"import _slicedToArray from \"/Users/alexshirazi/Desktop/shopifyTechChallenge/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alexshirazi/Desktop/shopifyTechChallenge/frontend/src/pages/View.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nconst View = () => {\n  //post logic\n  const _React$useState = React.useState(''),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        description = _React$useState2[0],\n        setDescription = _React$useState2[1];\n\n  const _React$useState3 = React.useState(''),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        title = _React$useState4[0],\n        setTitle = _React$useState4[1];\n\n  const _React$useState5 = React.useState(''),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        price = _React$useState6[0],\n        setPrice = _React$useState6[1];\n\n  const _React$useState7 = React.useState(''),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        email = _React$useState8[0],\n        setEmail = _React$useState8[1];\n\n  const handleEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const handlePrice = e => {\n    setPrice(e.target.value);\n  };\n\n  const handlePostTitle = e => {\n    setTitle(e.target.value);\n  };\n\n  const handleDescription = e => {\n    setDescription(e.target.value);\n  };\n\n  const data = {\n    email: email,\n    title: title,\n    price: price,\n    description: description\n  };\n\n  const handlePost = () => {\n    const json = JSON.stringify(data);\n    axios.post('api/createListing', json) // .then(document.write(json));\n    .then(response => {\n      alert(response.data);\n    });\n  }; //View listings\n\n\n  const _React$useState9 = React.useState(''),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        titleDelete = _React$useState10[0],\n        setTitleDelete = _React$useState10[1];\n\n  const _React$useState11 = React.useState(''),\n        _React$useState12 = _slicedToArray(_React$useState11, 2),\n        counter = _React$useState12[0],\n        setCounter = _React$useState12[1];\n\n  var _React$useState13 = React.useState([]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      listing = _React$useState14[0],\n      setListing = _React$useState14[1];\n\n  const handleTitle = e => {\n    setTitleDelete(e.target.value);\n  };\n\n  const count = () => {\n    axios.get('localhost:9000/api/countListings').then(response => {\n      setCounter(response.data);\n    });\n  };\n\n  const all = () => {\n    axios.get('api/viewListings').then(res => {\n      console.log(res.data);\n      setListing(res.data);\n    });\n  };\n\n  React.useEffect(() => {\n    all();\n    count();\n  }, []); //empty json for some reason\n\n  const deletePost = () => {\n    const title = titleDelete;\n    axios.post('/api/deleteListing', title).then(res => {\n      console.log(res);\n      window.location.reload();\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Post\"), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Email \"), React.createElement(\"input\", {\n    value: email,\n    onChange: handleEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Title \"), React.createElement(\"input\", {\n    value: title,\n    onChange: handlePostTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Price \"), React.createElement(\"input\", {\n    value: price,\n    onChange: handlePrice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Description \"), React.createElement(\"input\", {\n    value: description,\n    onChange: handleDescription,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: handlePost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Submit Listing\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \" There are \", counter, \" Posts Displayed!\"), React.createElement(\"div\", {\n    className: \"post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), listing.map((data, key) => {\n    return React.createElement(\"div\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Title: \", data.title), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"email: \", data.email), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Price: \", data.price), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Description: \", data.description), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }));\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Delete by Title\", React.createElement(\"input\", {\n    value: titleDelete,\n    onChange: handleTitle,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: deletePost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"Delete!\")));\n};\n\nexport default View;\n/*\n\naxios.get('/api/viewListings')\n.then((res)=>{\nconsole.log(res);\n };\n*/","map":{"version":3,"sources":["/Users/alexshirazi/Desktop/shopifyTechChallenge/frontend/src/pages/View.js"],"names":["React","axios","View","useState","description","setDescription","title","setTitle","price","setPrice","email","setEmail","handleEmail","e","target","value","handlePrice","handlePostTitle","handleDescription","data","handlePost","json","JSON","stringify","post","then","response","alert","titleDelete","setTitleDelete","counter","setCounter","listing","setListing","handleTitle","count","get","all","res","console","log","useEffect","deletePost","window","location","reload","map","key"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst View = () => {\n\n//post logic\nconst[description,setDescription] =React.useState('');\nconst[title,setTitle] = React.useState('');\nconst[price,setPrice] = React.useState('');\nconst[email,setEmail] = React.useState('');\n\nconst handleEmail = (e)=>{\n  setEmail(e.target.value);\n}\n\nconst handlePrice = (e)=>{\nsetPrice(e.target.value);\n}\nconst handlePostTitle = (e) =>{\n\nsetTitle(e.target.value);\n}\n\n  const handleDescription =(e)=>{\n    setDescription(e.target.value);\n  };\nconst data= {\n  email:email,\n  title: title,\n  price: price,\n  description: description,\n  \n    \n  };\nconst handlePost = () => {\n  const json = JSON.stringify(data)\n    axios.post('api/createListing', json)\n   // .then(document.write(json));\n.then((response) =>{\nalert(response.data);\n\n})\n}\n\n\n\n  //View listings\nconst [titleDelete, setTitleDelete] = React.useState('');\n  const[counter, setCounter] = React.useState('');\n  var [listing, setListing] = React.useState([]);\n \n\n  \n  const handleTitle = (e) => {\n    setTitleDelete(e.target.value);\n  }\n\n\n\n  const count = () =>{\n    axios.get('localhost:9000/api/countListings').then((response) =>{\n     setCounter(response.data);\n    })\n  }\n\n\n  const all =  () => {\n   axios.get('api/viewListings')\n \n  .then((res)=>{\nconsole.log(res.data); \nsetListing(res.data);\n    })\n\n\n   };\n\n\nReact.useEffect(() => {\n all();\ncount();\n\n\n},[])\n\n//empty json for some reason\n\n\n\nconst deletePost = () => {\nconst title = titleDelete;\n\naxios.post('/api/deleteListing', title)\n.then((res)=>{\n  console.log(res);\n  window.location.reload();\n\n})\n}\n \n\n  return (\n <div>\n<div>\n      <h1>Post</h1>\n      <form>\n      <label>Email </label>\n      <input value = {email} onChange={handleEmail}/>\n      <br/>\n      <label>Title </label>\n      <input value = {title} onChange={handlePostTitle}/>\n      <br/>\n      <label>Price </label>\n      <input value = {price} onChange={handlePrice}/>\n      <br/>\n      <label>Description </label>\n      <input value = {description} onChange={handleDescription}/>\n      <br/>\n     \n      <button onClick={handlePost}>Submit Listing</button>\n      <br/>\n      </form>\n    </div>\n\n\n\n      <br/>\n  <h1> There are {counter} Posts Displayed!</h1>\n    <div className=\"post\">\n      <br/>\n    {listing.map((data,key)=>{\n\n      return (\n        <div key={key}>\n          \n         <h1>Title: {data.title}</h1>\n          <br/>\n          <label>email: {data.email}</label>\n         <br/>\n         <label>Price: {data.price}</label>\n         <br/>\n         <label>Description: {data.description}</label>\n          <br/>\n          <label></label>\n          <br/>\n          \n        </div>\n       \n        \n      )\n     \n    })}\n    <label>Delete by Title<input value = {titleDelete} onChange ={handleTitle} type=\"text\"/></label>\n    <br/>\n    <button onClick={deletePost} >Delete!</button>\n\n    </div>\n    </div>\n  );\n\n\n   \n  \n  \n};\n\nexport default View;\n/*\n\naxios.get('/api/viewListings')\n.then((res)=>{\nconsole.log(res);\n };\n*/"]},"metadata":{},"sourceType":"module"}